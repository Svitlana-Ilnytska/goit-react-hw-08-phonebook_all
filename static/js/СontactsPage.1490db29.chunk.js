"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[781],{5808:function(e,t,n){n.r(t),n.d(t,{default:function(){return _}});var r=n(2791),a=n(885),i=n(2978),s=n(1538),o=n(9869),l=n(9163),c=n(6820),d=n(6927),u=n(6561),h=n(2761),x=n(7289),m=n(3329);function p(e){var t=e.id,n=e.nameItem,p=e.numberItem,f=e.onCloseModal,j=(0,r.useState)(n),b=(0,a.Z)(j,2),Z=b[0],v=b[1],C=(0,r.useState)(p),g=(0,a.Z)(C,2),w=g[0],y=g[1],k=(0,i.v9)(o.L),P=(0,s.Jx)(k).data,A=(0,s.Lr)(),I=(0,a.Z)(A,1)[0],_=(0,s.i)(),W=(0,a.Z)(_,1)[0],F=(0,l.Z)(),L=function(e){var t=e.target,n=t.name,r=t.value;switch(n){case"name":v(r);break;case"number":y(r);break;default:console.warn("name - ".concat(n," not matched"))}},N=function(){v(""),y("")};return(0,m.jsx)(c.ZP,{my:8,textAlign:"left",children:(0,m.jsxs)("form",{onSubmit:function(e){e.preventDefault();var n={name:Z,number:w},r=null===P||void 0===P?void 0:P.some((function(e){return e.name.toLowerCase().includes(n.name.toLowerCase())}));t?(W({id:t,contactName:n,token:k}),f(),F({title:"Contact saved.",description:"We've updated your contact.",status:"success",duration:9e3,isClosable:!0})):r?F({title:"An error occurred.",description:"".concat(n.name," is already in contacts."),status:"error",duration:9e3,isClosable:!0}):(I({contactName:n,token:k}),F({title:"Contact added.",description:"We've created your contact.",status:"success",duration:9e3,isClosable:!0}),N())},children:[(0,m.jsxs)(d.ZP,{children:[(0,m.jsx)(u.ZP,{children:"Name "}),(0,m.jsx)(h.Z,{type:"text",name:"name",value:Z,onChange:L,placeholder:"Type name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f\\\\s\\\\'-]+$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0})]}),(0,m.jsxs)(d.ZP,{mt:4,children:[(0,m.jsx)(u.ZP,{children:" Number"}),(0,m.jsx)(h.Z,{type:"tel",name:"number",value:w,onChange:L,placeholder:"Type number",pattern:"[+]?[0-9]{1,4}[-.\\\\s]?[()0-9]{1,3}[-.\\\\s]?[0-9]{1,4}[-.\\\\s]?[0-9]{1,4}[-.\\\\s]?[0-9]{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0})]}),t?(0,m.jsx)(x.Z,{variantColor:"teal",width:"45%",borderWidth:1,mt:4,type:"submit",children:"Save changes"}):(0,m.jsx)(x.Z,{variantColor:"teal",width:"full",borderWidth:1,mt:4,type:"submit",children:"Add contact"})]})})}p.defaultProps={id:"",nameItem:"",numberItem:""};var f=n(4443),j=function(e){return e.filter},b=n(7933),Z=function(){var e=(0,i.v9)(j),t=(0,i.I0)();return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(b.Z,{textAlign:"left",children:"Find contacts by name"}),(0,m.jsx)(h.Z,{mb:4,type:"text",value:e,onChange:function(e){return t((0,f.Z)(e.target.value))},placeholder:"Search..."})]})},v=n(7596),C=n(3207),g=n(9247),w=n(339),y=n(4927),k=n(8532);function P(e){var t=e.id,n=e.name,a=e.number,i=e.onDeleteContact,s=(0,k.Z)(),o=s.isOpen,l=s.onOpen,c=s.onClose,d=r.useRef(),u=r.useRef();return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(v.Z,{py:2,px:2,borderRadius:"md",bg:"white.50",w:"full",border:"1px",borderColor:"teal.500",my:1,justifyContent:"space-between",alignItems:"center",children:[(0,m.jsxs)(v.Z,{children:[(0,m.jsx)(C.Z,{mr:4}),(0,m.jsxs)(v.Z,{flexDirection:"column",alignItems:"flex-start",children:[(0,m.jsx)(g.Z,{fontSize:18,color:"teal.900",children:n}),(0,m.jsx)(b.Z,{children:(0,m.jsxs)("a",{href:"tel:".concat(a),children:[" ",a]})})]})]}),(0,m.jsxs)(v.Z,{children:[(0,m.jsxs)(x.Z,{variantColor:"teal",variant:"outline",width:"100px",type:"button",onClick:l,children:["Edit ",(0,m.jsx)(w.Z,{name:"edit",size:"18px",ml:3})]}),(0,m.jsxs)(x.Z,{ml:3,variantColor:"teal",width:"100px",type:"button",onClick:i,children:["Delete ",(0,m.jsx)(w.Z,{name:"delete",size:"18px",ml:3})]})]})]}),(0,m.jsxs)(y.u_,{disableEnforceFocus:!1,initialFocusRef:d,finalFocusRef:u,isOpen:o,onClose:c,children:[(0,m.jsx)(y.ZA,{}),(0,m.jsxs)(y.hz,{children:[(0,m.jsx)(y.xB,{children:"Edit your contact"}),(0,m.jsx)(y.ol,{}),(0,m.jsxs)(y.fe,{px:6,children:[(0,m.jsx)(p,{id:t,nameItem:n,numberItem:a,onCloseModal:c}),(0,m.jsx)(x.Z,{onClick:c,width:"45%",position:"absolute",top:"270px",right:"28px",children:"Cancel"})]})]})]})]})}var A=n(9519),I=function(){var e=(0,i.v9)(o.L),t=function(e,t){return null===e||void 0===e?void 0:e.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())}))}((0,s.Jx)(e).data,(0,i.v9)((function(e){return e.filter}))),n=(0,s.Nt)(),r=(0,a.Z)(n,1)[0];return(0,m.jsx)(A.ZP,{spacing:3,borderWidth:"1px",rounded:"md",overflow:"hidden",children:null===t||void 0===t?void 0:t.map((function(t){var n=t.id,a=t.name,i=t.number;return(0,m.jsx)(A.HC,{children:(0,m.jsx)(P,{id:n,name:a,number:i,onDeleteContact:function(){return r({id:n,token:e})}})},n)}))})};function _(){return(0,m.jsx)("div",{children:(0,m.jsxs)(v.Z,{minHeight:"100vh",width:"full",align:"start",justifyContent:"space-around",py:12,children:[(0,m.jsxs)(c.ZP,{borderWidth:1,px:4,width:"full",maxWidth:"500px",borderRadius:4,textAlign:"center",boxShadow:"lg",children:[(0,m.jsx)(g.Z,{className:"text-center",children:"Phonebook"}),(0,m.jsx)(p,{})]}),(0,m.jsxs)(c.ZP,{px:4,width:"full",maxWidth:"600px",borderRadius:4,textAlign:"center",children:[(0,m.jsx)(g.Z,{children:"Contacts"}),(0,m.jsx)(Z,{}),(0,m.jsx)(I,{})]})]})})}}}]);
//# sourceMappingURL=Ð¡ontactsPage.1490db29.chunk.js.map