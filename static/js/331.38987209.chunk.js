"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[331],{9331:function(e,t,n){n.r(t),n.d(t,{default:function(){return I}});var r=n(2791),a=n(885),i=n(3634),s=n(6009),o=n(9163),l=n(6820),c=n(6927),d=n(6561),u=n(2761),h=n(7289),x=n(3329);function m(e){var t=e.id,n=e.nameItem,m=e.numberItem,p=e.onCloseModal,f=(0,r.useState)(n),j=(0,a.Z)(f,2),b=j[0],Z=j[1],v=(0,r.useState)(m),C=(0,a.Z)(v,2),g=C[0],w=C[1],y=(0,s.a)().token,k=(0,i.Jx)(y).data,P=(0,i.Lr)(),A=(0,a.Z)(P,1)[0],I=(0,i.i)(),_=(0,a.Z)(I,1)[0],W=(0,o.Z)(),F=function(e){var t=e.target,n=t.name,r=t.value;switch(n){case"name":Z(r);break;case"number":w(r);break;default:console.warn("name - ".concat(n," not matched"))}},N=function(){Z(""),w("")};return(0,x.jsx)(l.ZP,{my:8,textAlign:"left",children:(0,x.jsxs)("form",{onSubmit:function(e){e.preventDefault();var n={name:b,number:g},r=null===k||void 0===k?void 0:k.some((function(e){return e.name.toLowerCase().includes(n.name.toLowerCase())}));t?(_({id:t,contactName:n,token:y}),p(),W({title:"Contact saved.",description:"We've updated your contact.",status:"success",duration:9e3,isClosable:!0})):r?W({title:"An error occurred.",description:"".concat(n.name," is already in contacts."),status:"error",duration:9e3,isClosable:!0}):(A({contactName:n,token:y}),W({title:"Contact added.",description:"We've created your contact.",status:"success",duration:9e3,isClosable:!0}),N())},children:[(0,x.jsxs)(c.ZP,{children:[(0,x.jsx)(d.ZP,{children:"Name "}),(0,x.jsx)(u.Z,{type:"text",name:"name",value:b,onChange:F,placeholder:"Type name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f\\\\s\\\\'-]+$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0})]}),(0,x.jsxs)(c.ZP,{mt:4,children:[(0,x.jsx)(d.ZP,{children:" Number"}),(0,x.jsx)(u.Z,{type:"tel",name:"number",value:g,onChange:F,placeholder:"Type number",pattern:"[+]?[0-9]{1,4}[-.\\\\s]?[()0-9]{1,3}[-.\\\\s]?[0-9]{1,4}[-.\\\\s]?[0-9]{1,4}[-.\\\\s]?[0-9]{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0})]}),t?(0,x.jsx)(h.Z,{variantColor:"teal",width:"45%",borderWidth:1,mt:4,type:"submit",children:"Save changes"}):(0,x.jsx)(h.Z,{variantColor:"teal",width:"full",borderWidth:1,mt:4,type:"submit",children:"Add contact"})]})})}m.defaultProps={id:"",nameItem:"",numberItem:""};var p=n(2978),f=n(4443),j=n(7933),b=function(){var e=(0,p.v9)((function(e){return e.filter})),t=(0,p.I0)();return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(j.Z,{textAlign:"left",children:"Find contacts by name"}),(0,x.jsx)(u.Z,{mb:4,type:"text",value:e,onChange:function(e){return t((0,f.Z)(e.target.value))},placeholder:"Search..."})]})},Z=n(7596),v=n(3207),C=n(9247),g=n(339),w=n(4927),y=n(8532);function k(e){var t=e.id,n=e.name,a=e.number,i=e.onDeleteContact,s=(0,y.Z)(),o=s.isOpen,l=s.onOpen,c=s.onClose,d=r.useRef(),u=r.useRef();return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(Z.Z,{py:2,px:2,borderRadius:"md",bg:"white.50",w:"full",border:"1px",borderColor:"teal.500",my:1,justifyContent:"space-between",alignItems:"center",children:[(0,x.jsxs)(Z.Z,{children:[(0,x.jsx)(v.Z,{mr:4}),(0,x.jsxs)(Z.Z,{flexDirection:"column",alignItems:"flex-start",children:[(0,x.jsx)(C.Z,{fontSize:18,color:"teal.900",children:n}),(0,x.jsx)(j.Z,{children:(0,x.jsxs)("a",{href:"tel:".concat(a),children:[" ",a]})})]})]}),(0,x.jsxs)(Z.Z,{children:[(0,x.jsxs)(h.Z,{variantColor:"teal",variant:"outline",width:"100px",type:"button",onClick:l,children:["Edit ",(0,x.jsx)(g.Z,{name:"edit",size:"18px",ml:3})]}),(0,x.jsxs)(h.Z,{ml:3,variantColor:"teal",width:"100px",type:"button",onClick:i,children:["Delete ",(0,x.jsx)(g.Z,{name:"delete",size:"18px",ml:3})]})]})]}),(0,x.jsxs)(w.u_,{disableEnforceFocus:!1,initialFocusRef:d,finalFocusRef:u,isOpen:o,onClose:c,children:[(0,x.jsx)(w.ZA,{}),(0,x.jsxs)(w.hz,{children:[(0,x.jsx)(w.xB,{children:"Edit your contact"}),(0,x.jsx)(w.ol,{}),(0,x.jsxs)(w.fe,{px:6,children:[(0,x.jsx)(m,{id:t,nameItem:n,numberItem:a,onCloseModal:c}),(0,x.jsx)(h.Z,{onClick:c,width:"45%",position:"absolute",top:"270px",right:"28px",children:"Cancel"})]})]})]})]})}var P=n(9519),A=function(){var e=(0,s.a)().token,t=function(e,t){return null===e||void 0===e?void 0:e.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())}))}((0,i.Jx)(e).data,(0,p.v9)((function(e){return e.filter}))),n=(0,i.Nt)(),r=(0,a.Z)(n,1)[0];return(0,x.jsx)(P.ZP,{spacing:3,borderWidth:"1px",rounded:"md",overflow:"hidden",children:null===t||void 0===t?void 0:t.map((function(t){var n=t.id,a=t.name,i=t.number;return(0,x.jsx)(P.HC,{children:(0,x.jsx)(k,{id:n,name:a,number:i,onDeleteContact:function(){return r({id:n,token:e})}})},n)}))})};function I(){return(0,x.jsx)("div",{children:(0,x.jsxs)(Z.Z,{minHeight:"100vh",width:"full",align:"start",justifyContent:"space-around",py:12,children:[(0,x.jsxs)(l.ZP,{borderWidth:1,px:4,width:"full",maxWidth:"500px",borderRadius:4,textAlign:"center",boxShadow:"lg",children:[(0,x.jsx)(C.Z,{className:"text-center",children:"Phonebook"}),(0,x.jsx)(m,{})]}),(0,x.jsxs)(l.ZP,{px:4,width:"full",maxWidth:"600px",borderRadius:4,textAlign:"center",children:[(0,x.jsx)(C.Z,{children:"Contacts"}),(0,x.jsx)(b,{}),(0,x.jsx)(A,{})]})]})})}}}]);
//# sourceMappingURL=331.38987209.chunk.js.map